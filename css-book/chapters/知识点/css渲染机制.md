# css 渲染机制

- [CSS 渲染原理 及 优化](https://www.jianshu.com/p/9c71c70be3dc)

## css 渲染规则

> css 的渲染规则，是从上到下，从右到左渲染的。

```css
.main h4 a {
  font-size: 14px;
}
```

- 渲染过程是这样的：首先先找到所有的 a，沿着 a 的父元素查找 h4，然后再沿着 h4，查找.main。中途找到了符合匹配规则的节点就加入结果集。如果找到根元素的 html 都没有匹配，则这条路径不再遍历。下一个 a 开始重复这个查找匹配，直至没有 a 继续查找。
- 浏览器的这种查找规则是为了尽早过滤掉一些无关的样式规则和元素。

## 优化 css

| 措施                              | 原理                                                                                  |
| --------------------------------- | ------------------------------------------------------------------------------------- |
| 把 Stylesheets 放在 HTML 页面头部 | 浏览器在所有的 stylesheets 加载完成之后，才会开始渲染整个页面()                       |
| 嵌套层级不要超过三级              | 过渡的嵌套会导致代码变得臃肿，导致 css 文件体积变大，造成性能上的浪费，影响渲染的速度 |
