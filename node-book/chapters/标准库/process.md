# process

> 进程

## api list

| class      | api                                                        | more                                                                                                                                                                                                                                                                                                 |
| ---------- | ---------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| api        | process.abort()                                            | 使 Node.js 进程立即结束，并生成一个 core 文件                                                                                                                                                                                                                                                        |
| ^          | process.allowedNodeEnvironmentFlags                        | -                                                                                                                                                                                                                                                                                                    |
| ^          | process.arch                                               | 返回一个表示操作系统 CPU 架构的字符串，Node.js 二进制文件是为这些架构编译的                                                                                                                                                                                                                          |
| ^          | process.argv                                               | process.argv 属性返回一个数组，这个数组包含了启动 Node.js 进程时的命令行参数                                                                                                                                                                                                                         |
| ^          | process.argv0                                              | process.argv0 属性保存当 Node.js 启动时传入的 argv[0] 的原始值的只读副本                                                                                                                                                                                                                             |
| ^          | process.channel                                            | 如果 Node.js 进程是由 IPC channel(请看 Child Process 文档) 方式创建的， process.channel 属性保存 IPC channel 的引用                                                                                                                                                                                  |
| ^          | process.chdir(directory)                                   | 变更 Node.js 进程的当前工作目录，如果变更目录失败会抛出异常                                                                                                                                                                                                                                          |
| ^          | process.config                                             | 返回一个 Javascript 对象。此对象描述了用于编译当前 Node.js 执行程序时涉及的配置项信息                                                                                                                                                                                                                |
| ^          | process.connected                                          | 如果 Node.js 进程是由 IPC channel 方式创建的， 只要 IPC channel 保持连接， process.connected 属性就会返回 true。                                                                                                                                                                                     |
| ^          | process.cpuUsage([previousValue])                          | 返回包含当前进程的用户 CPU 时间和系统 CPU 时间的对象                                                                                                                                                                                                                                                 |
| ^          | process.cwd()                                              | 返回 Node.js 进程当前工作的目录                                                                                                                                                                                                                                                                      |
| ^          | process.debugPort                                          | debugger 调试器使用的端口。                                                                                                                                                                                                                                                                          |
| ^          | process.disconnect()                                       | 如果 Node.js 进程是从 IPC 频道派生出来的, process.disconnect()函数会关闭到父进程的 IPC 频道，以允许子进程一旦没有其他链接来保持活跃就优雅地关闭。                                                                                                                                                    |
| ^          | process.dlopen(module, filename[, flags])                  | -                                                                                                                                                                                                                                                                                                    |
| ^          | process.emitWarning(warning[, options])                    | 可用于发出定制的或应用特定的进程警告                                                                                                                                                                                                                                                                 |
| ^          | process.emitWarning(warning[, type[, code]][, ctor])       | ^                                                                                                                                                                                                                                                                                                    |
| ^          | process.env                                                | 返回包含用户环境的对象                                                                                                                                                                                                                                                                               |
| ^          | process.execArgv                                           | 返回当 Node.js 进程被启动时，Node.js 特定的命令行选项                                                                                                                                                                                                                                                |
| ^          | process.execPath                                           | 返回启动 Node.js 进程的可执行文件的绝对路径名                                                                                                                                                                                                                                                        |
| ^          | process.exit([code])                                       | 以退出状态 code 指示 Node.js 同步地终止进程                                                                                                                                                                                                                                                          |
| ^          | process.exitCode                                           | 当进程正常退出，或通过 process.exit() 退出且未指定退出码时，此数值将作为进程的退出码。                                                                                                                                                                                                               |
| ^          | process.getegid()                                          | 返回 Node.js 进程的有效数字标记的组身份                                                                                                                                                                                                                                                              |
| ^          | process.geteuid()                                          | 返回 Node.js 进程的有效数字标记的用户身份                                                                                                                                                                                                                                                            |
| ^          | process.getgid()                                           | 返回 Node.js 进程的数字标记的组身份                                                                                                                                                                                                                                                                  |
| ^          | process.getgroups()                                        | 返回数组，其中包含了补充的组 ID                                                                                                                                                                                                                                                                      |
| ^          | process.getuid()                                           | 返回 Node.js 进程的数字标记的用户身份                                                                                                                                                                                                                                                                |
| ^          | process.hasUncaughtExceptionCaptureCallback()              | -                                                                                                                                                                                                                                                                                                    |
| ^          | process.hrtime([time])                                     | 返回当前时间以[seconds, nanoseconds] tuple Array 表示的高精度解析值， nanoseconds 是当前时间无法使用秒的精度表示的剩余部分。                                                                                                                                                                         |
| ^          | process.hrtime.bigint()                                    | -                                                                                                                                                                                                                                                                                                    |
| ^          | process.initgroups(user, extraGroup)                       | 读取/etc/group 文件，并且初始化组访问列表，该列表包括了用户所在的所有组                                                                                                                                                                                                                              |
| ^          | process.kill(pid[, signal])                                | 将 signal 发送给 pid 标识的进程                                                                                                                                                                                                                                                                      |
| ^          | process.mainModule                                         | 提供了一种获取 require.main 的替代方式                                                                                                                                                                                                                                                               |
| ^          | process.memoryUsage()                                      | 返回 Node.js 进程的内存使用情况的对象，该对象每个属性值的单位为字节                                                                                                                                                                                                                                  |
| ^          | process.nextTick(callback[, ...args])                      | 将 callback 添加到下一个时间点的队列。 一旦当轮的事件循环全部完成，则调用下一个时间点的队列中的所有回调                                                                                                                                                                                              |
| ^          | process.noDeprecation                                      | -                                                                                                                                                                                                                                                                                                    |
| ^          | process.pid                                                | 返回进程的 PID                                                                                                                                                                                                                                                                                       |
| ^          | process.platform                                           | 返回字符串，标识 Node.js 进程运行其上的操作系统平台。                                                                                                                                                                                                                                                |
| ^          | process.ppid                                               | 返回当前父进程的进程 ID                                                                                                                                                                                                                                                                              |
| ^          | process.release                                            | 返回与当前发布相关的元数据对象，包括源代码和源代码头文件 tarball 的 URLs。                                                                                                                                                                                                                           |
| ^          | process.send(message[, sendHandle[, options]][, callback]) | 如果 Node.js 进程是通过进程间通信产生的，那么，process.send()方法可以用来给父进程发送消息                                                                                                                                                                                                            |
| ^          | process.setegid(id)                                        | 为进程设置有效的用户组 ID                                                                                                                                                                                                                                                                            |
| ^          | process.seteuid(id)                                        | 为进程设置有效的用户 ID                                                                                                                                                                                                                                                                              |
| ^          | process.setgid(id)                                         | 为进程方法设置组 ID                                                                                                                                                                                                                                                                                  |
| ^          | process.setgroups(groups)                                  | -                                                                                                                                                                                                                                                                                                    |
| ^          | process.setuid(id)                                         | 设置进程的用户 ID                                                                                                                                                                                                                                                                                    |
| ^          | process.setUncaughtExceptionCaptureCallback(fn)            | -                                                                                                                                                                                                                                                                                                    |
| ^          | process.stderr                                             | 返回连接到 stderr (fd 2) 的流                                                                                                                                                                                                                                                                        |
| ^          | process.stdin                                              | 返回连接到 stdin (fd 0) 的流                                                                                                                                                                                                                                                                         |
| ^          | process.stdout                                             | 返回连接到 stdout (fd 1) 的流                                                                                                                                                                                                                                                                        |
| ^          | process.throwDeprecation                                   | 表示--throw-deprecation 标记是否被设置到当前 Node.js 进程上                                                                                                                                                                                                                                          |
| ^          | process.title                                              | 用于获取或设置当前进程在 ps 命令中显示的进程名字                                                                                                                                                                                                                                                     |
| ^          | process.traceDeprecation                                   | -                                                                                                                                                                                                                                                                                                    |
| ^          | process.umask([mask])                                      | 用于返回或设置 Node.js 进程的默认创建文件的权限掩码                                                                                                                                                                                                                                                  |
| ^          | process.uptime()                                           | 返回当前 Node.js 进程运行时间秒长                                                                                                                                                                                                                                                                    |
| ^          | process.version                                            | 返回 Node.js 的版本信息                                                                                                                                                                                                                                                                              |
| ^          | process.versions                                           | 返回一个对象，此对象列出了 Node.js 和其依赖的版本信息                                                                                                                                                                                                                                                |
| event      | beforeExit                                                 | 当 Node.js 清空其事件循环并且没有其他工作要安排时，会触发 'beforeExit' 事件                                                                                                                                                                                                                          |
| ^          | disconnect                                                 | 如果使用 IPC 通道衍生 Node.js 进程（参阅子进程和集群文档），则在 IPC 通道关闭时将触发 'disconnect' 事件                                                                                                                                                                                              |
| ^          | exit                                                       | 当 Node.js 进程因以下原因之一即将退出时，则会触发 'exit' 事件                                                                                                                                                                                                                                        |
| ^          | message                                                    | 如果使用 IPC 通道衍生 Node.js 进程（参阅子进程和集群文档），则只要子进程收到父进程使用 childprocess.send() 发送的消息，就会触发 'message' 事件                                                                                                                                                       |
| ^          | multipleResolves                                           | -                                                                                                                                                                                                                                                                                                    |
| ^          | rejectionHandled                                           | 每当 Promise 被拒绝并且错误处理函数附加到它（例如，使用 promise.catch()）晚于一个 Node.js 事件循环时，就会触发 'rejectionHandled' 事件。                                                                                                                                                             |
| ^          | uncaughtException                                          | 当未捕获的 JavaScript 异常一直冒泡回到事件循环时，会触发 'uncaughtException' 事件                                                                                                                                                                                                                    |
| ^          | unhandledRejection                                         | 如果在事件循环的一次轮询中，一个 Promise 被 rejected，并且此 Promise 没有绑定错误处理器， 'unhandledRejection 事件会被触发。                                                                                                                                                                         |
| ^          | warning                                                    | 任何时候 Node.js 发出进程告警，都会触发'warning'事件。                                                                                                                                                                                                                                               |
| 信号 event | SIGUSR1                                                    | 被 Node.js 保留用于启动调试器。可以为此事件绑定一个监听器，但是即使这样做也不会阻止调试器的启动。                                                                                                                                                                                                    |
| ^          | SIGTERM 和 SIGINT                                          | 在非 windows 平台绑定了默认的监听器，这样进程以代码 128 + signal number 结束之前，可以重置终端模式。 如果这两个事件任意一个绑定了新的监听器，原有默认的行为会被移除(Node.js 不会结束)。                                                                                                              |
| ^          | SIGPIPE                                                    | 默认会被忽略。可以给其绑定监听器。                                                                                                                                                                                                                                                                   |
| ^          | SIGHUP                                                     | 在 Windows 平台中当 console 窗口被关闭时会触发它，在非 windows 平台中多种相似的条件下也会触发，查看 signal(7)。 可以给其绑定监听器，但是 Windows 下 Node.js 会在它触发后 10 秒钟无条件关闭。 非 windows 平台， SIGHUP 默认的绑定行为是结束 Node.js，但是一旦给它绑定了新的监听器，默认行为会被移除。 |
| ^          | SIGTERM                                                    | 在 Windows 中不支持，可以给其绑定监听器。                                                                                                                                                                                                                                                            |
| ^          | SIGINT                                                     | 在终端运行时，可以被所有平台支持，通常可以通过 <Ctrl>+C 触发(虽然这个不能配置)。 当终端运行在 raw 模式，它不会被触发。                                                                                                                                                                               |
| ^          | SIGBREAK                                                   | 在 Windows 中按下<Ctrl>+<Break>会被触发，非 Windows 平台中可以为其绑定监听器，但是没有方式触发或发送此事件。                                                                                                                                                                                         |
| ^          | SIGWINCH                                                   | 当 console 被 resize 时会触发。Windows 中只有当光标移动并写入到 console，或者以 raw 模式使用一个可读 tty 时，才会触发。                                                                                                                                                                              |
| ^          | SIGKILL                                                    | 不能绑定监听器，所有平台中出现此事件，都会使得 Node.js 无条件终止。                                                                                                                                                                                                                                  |
| ^          | SIGSTOP                                                    | 不能绑定监听器。                                                                                                                                                                                                                                                                                     |
| ^          | SIGBUS, SIGFPE, SIGSEGV and SIGILL                         | 如果不是通过 kill(2)产生，默认会使进程停留在某个状态，在此状态下尝试调用 JS 监听器是不安全的。 如果尝试调用 JS 监听器可能会导致进程在无限循环中挂死，因为使用 process.on()附加的监听器是以异步的方式被调用，因此不能纠正隐含的问题。                                                                 |
