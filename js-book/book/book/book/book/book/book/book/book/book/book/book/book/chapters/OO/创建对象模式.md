# 创建对象模式

## 工厂模式

```javascript
//解决：解决了对象字面量等在创建多个相似对象时代码的重复问题
//问题：没有解决对象识别的问题（如何知道一个对象的类型）

function createPerson(name,age,job){
    var o=new Obeject();
    o.name=name;
    o.age=age;
    o.job=job;
    o.sayName=function(){
        alert(this.name);
    };
    return o;
}
var person1=createPerson("Nicholas",29,"Software Enginer");
var person2=createPerson("Greg",27,"Docter");
```

## 构造函数模式

```javascript
//解决：对象识别的问题（对应的实例）
//问题： 每个方法都要在实例上重新创建一遍

function Person(name,age,job){
    this.age=namel
    this.age=age;
    this.job=job;
    this.sayName=function(){
        alert(this.name);
    };
}
var person1=new Person("Nicholas",29,"Software Enginer");
var person2=new Person("Greg",27,"Docter");
```

## 原型模式

```javascript
//解决：构造函数模式实例中重复创建方法的问题
//问题：所有属性在默认情况下都取得相同的值；
//包含引用类型的值的属性会被实例所改变；

function Person(){}
Person.prototype.name="Nicholas";
Person.prototype.age=29;
Person.prototype.job="Software Enginer";
Person.prototype.sayName=function(){ alert(this.name);};
var person1=new Person();
var person2=new Person();
alert(person1.sayName==person2,sayName); //true
```

## 组合使用构造函数模式和原型模式

```javascript
//解决：要求相同的值放到原型中，要求不同的值放到构造函数中，解决了原型模式的问题
//问题：无问题

function Person(name,age,job){
    this.name=name;
    this.age=age;
    this.job=job;
    this.friends=["Shelby","Court"];
}
person.prototype={ //这里重新定义了构造函数的原型对象，不喜欢可以不用
    constructor:Person,
    sayName:function(){
        alert(this.name);
    }
};
var person1=new Person("Nicholas",29,"Software Engineer");
var person2=new Person("Greg",27,"Doctor");
person1.friends.push("Van");
alert(person1.friends); //"Shelby,Court,Van"
alert(person2.friends); //"Shelby,Court"
alert(person1.friends===person2.friends); //false
alert(person1.sayName()===person2.sayName()); //true
```

## 动态原型模式

```javascript
// 解决：升级组合使用构造函数模式和原型模式的结构，仅在需要的时候初始化原型
// 问题：无

function Person(name,age,job){
    this.name=name;
    this.age=age;
    this.job=job;
    if(typeof  this.sayName !="function"){
        Person.prototype.sayName=function(){alert(this.name);};
    }
}
var friend=new Person("Nicholas",29,"Software Engineer");
friend.sayName();
```

## 寄生构造函数模式

```javascript
 //寄生构造函数模式
 //解决：不解决问题
 //问题：很多

function Person(name,age,job){
    var o=new Object();
    o.name=name;
    o.age=age;
    o.job=job;
    o.sayName=function(){
        alert(this.name);
    };
    return o;
}
var friend=new Person("Nicholas",29,"Software Engineer");
friend.sayName(); //"Nicholas"
```

## 稳妥构造函数模式

```javascript
//解决：安全问题
//问题：很多

function Person(name,age,job){
    var o=new Object();
    o.sayName=function(){ alert(name);};
    return o;
}
var friend=Person("Nicholas",29,"Software Engineer");
friend.sayName(); //"Nicholas"
```
