# Capability性能优化

--------------------------------------------------------------------------------

## 性能优化的途径

### 减少HTTP请求数

> 空请求也有RTT的消耗

- 合并 CSS/JS
- 小于 10k 的图片 base64
- 利用CSS Sprite合并多个图片为雪碧图
- 资源内联

### 尽可能的利用缓存

> 缓存可以很大程度的解决加载时间的问题

- localstorage
- 离线包

### 减小传输体积

> 与带宽有关,内容越少,下载越快

- CSS/JS minify
- 开启 Gzip 压缩
- 压缩图片
- 图片格式转化为WebP(兼容性问题)
- 合理控制 cookie 大小

  > 每次请求都会包含 cookie

- 使用 CDN 加速，适当进行文件缓存

### 合理安排请求顺序

- 将 CSS 放到顶部，JavaScript 放到尾部

  > JavaScript 会阻塞页面

- 按需加载/异步加载

- 懒加载

### 减少DOM渲染

- 减少 DOM 操作

  > 可使用 DocumentFragment

- 避免不必要的重绘与重排

- 优化 CSS 选择器

- 服务端渲染

### 欺骗用户

- 渐进式的用户感知时间
- loading

### 缩短关键路径
