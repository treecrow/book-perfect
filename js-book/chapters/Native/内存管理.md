# [内存管理](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management)

> JavaScript 在创建变量（对象，字符串等）时自动进行了分配内存，并且在不使用它们时“自动”释放。 释放的过程称为垃圾回收。这个“自动”是混乱的根源，并让 JavaScript（和其他高级语言）开发者错误的感觉他们可以不关心内存管理

> JavaScript 自带的垃圾回收不能解决所有内存回收问题，因为内存是否“不再需要”是无法通过算法绝对判定的

| 垃圾回收方式             | 引用计数垃圾收集                                                                                                                                                                     | 标记-清除算法                                                                                                                                        |
| ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| "对象是否不再需要"的定义 | 对象有没有其他对象引用到它                                                                                                                                                           | 对象是否可以获得                                                                                                                                     |
| 机理                     | 如果没有引用指向该对象（零引用），对象将被垃圾回收机制回收                                                                                                                           | 垃圾回收器将定期从根开始，找所有从根开始引用的对象，然后找这些对象引用的对象……从根开始，垃圾回收器将找到所有可以获得的对象和收集所有不能获得的对象。 |
| 限制                     | 两个对象被创建，并互相引用，形成了一个循环。它们被调用之后会离开函数作用域，所以它们已经没有用了，可以被回收了。然而，引用计数算法考虑到它们互相都有至少一次引用，所以它们不会被回收 | 那些无法从根对象查询到的对象都将被清除（`这种限制一般不影响正常代码运行`）                                                                           |
