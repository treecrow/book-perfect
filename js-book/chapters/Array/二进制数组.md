# 二进制数组

## 二进制数组由三类对象:

对象            | 解释
------------- | ---------------------------------------
ArrayBuffer对象 | 代表内存之中的一段二进制数据，可以通过"视图"进行操作。"视图"部署了数组接口
TypedArray视图  | 共包括9种类型的视图
DataView视图    | 可以自定义复合格式的视图

- TypedArray视图支持的数据类型

数据类型    | 字节长度 | 含义
------- | ---- | -------------------------------
Int8    | 1    | 8位带符号整数
Uint8   | 1    | 8位不带符号整数
Uint8C  | 1    | 8位不带符号整数（自动过滤溢出）（DataView视图不支持）
Int16   | 2    | 16位带符号整数
Uint16  | 2    | 16位不带符号整数
Int32   | 4    | 32位带符号整数
Uint32  | 4    | 32位不带符号的整数
Float32 | 4    | 32位浮点数
Float64 | 8    | 64位浮点数

## ArrayBuffer对象

```javascript
var buf = new ArrayBuffer(32);
```

- 属性／方法

属性／方法                            | 含义
-------------------------------- | ---------------------------------------------------------
ArrayBuffer.prototype.byteLength | 返回所分配的内存区域的字节长度
ArrayBuffer.prototype.slice()    | 将内存区域的一部分，拷贝生成一个新的ArrayBuffer对象
ArrayBuffer.isView()             | 参数是否为ArrayBuffer的视图实例（相当于判断参数，是否为TypedArray实例或DataView实例）

## TypedArray视图

- TypedArray构造函数

方法                                        | 作用
----------------------------------------- | -----------------------------------------
TypedArray(buffer, byteOffset=0, length?) | 基于ArrayBuffer对象，创建TypedArray视图
TypedArray(length)                        | 不通过ArrayBuffer对象，直接分配内存而生成
TypedArray(typedArray)                    | TypedArray数组的构造函数，可以接受另一个TypedArray实例作为参数
TypedArray(arrayLikeObject)               | 构造函数的参数也可以是一个普通数组，然后直接生成TypedArray实例

- TypedArray构造函数属性/方法

属性／方法                        | 作用
---------------------------- | ------------------------------------------------------
TypedArray.BYTES_PER_ELEMENT | 表示这种数据类型占据的字节数
TypedArray.of()              | 用于将参数转为一个TypedArray实例
TypedArray.from()            | 静态方法from接受一个可遍历的数据结构（比如数组）作为参数，返回一个基于这个结构的TypedArray实例

- TypedArray实例属性／方法

属性／方法                   | 作用
----------------------- | --------------------------------------------
tpArr.BYTES_PER_ELEMENT | 表示这种数据类型占据的字节数
tpArr.buffer            | 返回整段内存区域对应的ArrayBuffer对象
tpArr.byteLength        | 返回TypedArray数组占据的内存长度，单位为字节
tpArr.byteOffset        | 返回TypedArray数组从底层ArrayBuffer对象的哪个字节开始
tpArr.length            | 表示TypedArray数组含有多少个成员
tpArr.set()             | 用于复制数组（普通数组或TypedArray数组），也就是将一段内容完全复制到另一段内存
tpArr.subarray()        | 对于TypedArray数组的一部分，再建立一个新的视图
tpArr.slice()           | 返回一个指定位置的新的TypedArray实例

- TypedArray数组也可以转换回普通数组

```javascript
var normalArray = Array.prototype.slice.call(typedArray)
```

- concat TypedArray数组

  > TypedArray数组没有concat方法。如果想要合并多个TypedArray数组...

- 普通数组与TypedArray数组的差异

序号 | 差异
-- | -------------------------------------------------------------------------
1  | TypedArray数组的所有成员，都是同一种类型
2  | TypedArray数组的成员是连续的，不会有空位
3  | TypedArray数组成员的默认值为0
4  | TypedArray数组只是一层视图，本身不储存数据，它的数据都储存在底层的ArrayBuffer对象之中，要获取底层对象必须使用buffer属性

### 字节序(小端字节序&&大端字节序)的问题:

> 很多网络设备和特定的操作系统采用的是大端字节序,TypedArray数组将无法正确解析,为了解决这个问题，JavaScript引入DataView对象，可以设定字节序
