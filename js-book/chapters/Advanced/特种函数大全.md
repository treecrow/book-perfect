# 特种函数大全

## 只执行一次的函数

```javascript
function once(fn, context) {
    let result;
    return function() {
        if(fn) {
            result = fn.apply(context || this, arguments);
            fn = null;
        }
        return result;
    };
}
```

## 节流函数: [JavaScript 节流函数 Throttle 详解](http://web.jobbole.com/86710/)

```javascript
function throttle(fn, delay, atleast) {
   let timer = null,
     previous = null;
   return function () {
     let now = +new Date();
     if (!previous) previous = now;
     if (atleast && now - previous > atleast) {
       fn();
       previous = now;
       clearTimeout(timer);
     } else {
       clearTimeout(timer);
       timer = setTimeout(function () {
         fn();
       }, delay);
     }
   }
 }
```

## 获取函数参数名

```javascript
function getFunArgs(func) {
    // 首先匹配函数括弧里的参数
    var args = func.toString().match(/function\s.*?\(([^)]*)\)/)[1];

    // 分解参数成数组
    return args.split(",").map(function(arg) {
        // 去空格和内联注释
        return arg.replace(/\/\*.*\*\//, "").trim();
    }).filter(function(arg) {
        // 确保没有undefineds
        return arg;
    });
}
```

## 彻底冻结对象

```javascript
function deepFreeze(obj) {
    Object.freeze(obj);
    Object.keys(obj).forEach((key, value) => {
        if (typeof obj[key] === 'object') {
            deepFreeze(obj[key]);
        }
    });
}
```
